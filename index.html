<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VITREOS — AI Medical Advisor</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
<style>
/* ── Variables ── */
:root {
  --bg:        #010a12;
  --bg-mid:    #020e1a;
  --card:      rgba(0,40,80,0.35);
  --card-h:    rgba(0,55,110,0.55);
  --border:    rgba(0,200,255,0.15);
  --borderg:   rgba(0,245,255,0.4);
  --cyan:      #00f5ff;
  --teal:      #00d4aa;
  --blue:      #0080ff;
  --green:     #00ff88;
  --red:       #ff2d55;
  --orange:    #ff8c00;
  --txt:       #e0f4ff;
  --txt2:      #7eb8d4;
  --dim:       #3a6a8a;
  --blur:      16px;
  --r:         14px;
  --tr:        0.3s cubic-bezier(.4,0,.2,1);
  --fd:        'Orbitron',monospace;
  --fb:        'Exo 2',sans-serif;
}
/* ── Light Theme ── */
:root.light-theme {
  --bg:        #f0f6fc;
  --bg-mid:    #e4eef8;
  --card:      rgba(255,255,255,0.82);
  --card-h:    rgba(255,255,255,0.95);
  --border:    rgba(0,140,200,0.18);
  --borderg:   rgba(0,140,200,0.45);
  --cyan:      #0077aa;
  --teal:      #007a6a;
  --blue:      #005ac0;
  --green:     #007a3d;
  --red:       #cc1133;
  --orange:    #b85c00;
  --txt:       #112233;
  --txt2:      #3a5a7a;
  --dim:       #7a9ab0;
}
:root.light-theme body { background: var(--bg); }
:root.light-theme nav { background: rgba(240,246,252,0.92); }
:root.light-theme .fi, :root.light-theme .fs, :root.light-theme .fta {
  background: rgba(255,255,255,0.9);
  color: var(--txt);
}
:root.light-theme .fi:focus, :root.light-theme .fs:focus, :root.light-theme .fta:focus {
  background: #fff;
}
:root.light-theme .fs option { background: #fff; color: #112233; }
:root.light-theme #pc { opacity: 0.12; }
:root.light-theme .bgr { background: radial-gradient(ellipse 80% 60% at 20% 30%,rgba(0,100,200,.08),transparent 60%),radial-gradient(ellipse 60% 80% at 80% 70%,rgba(0,180,160,.06),transparent 60%); }
:root.light-theme .toast { background: rgba(255,255,255,0.95); }
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:var(--fb);background:var(--bg);color:var(--txt);min-height:100vh;overflow-x:hidden}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:var(--bg-mid)}::-webkit-scrollbar-thumb{background:rgba(0,245,255,0.2);border-radius:3px}

/* ── Backgrounds ── */
#pc{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.45}
.bgr{position:fixed;inset:0;z-index:0;background:radial-gradient(ellipse 80% 60% at 20% 30%,rgba(0,100,200,.12),transparent 60%),radial-gradient(ellipse 60% 80% at 80% 70%,rgba(0,200,180,.08),transparent 60%);pointer-events:none}

/* ── Loader ── */
#ls{position:fixed;inset:0;background:var(--bg);z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;transition:opacity .7s,visibility .7s}
#ls.gone{opacity:0;visibility:hidden}
.lr{width:72px;height:72px;border:2px solid var(--border);border-top-color:var(--cyan);border-radius:50%;animation:spin 1s linear infinite;box-shadow:0 0 20px rgba(0,245,255,.3);position:relative}
.lr::after{content:'⊕';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:22px;color:var(--cyan);animation:spin 1s linear infinite reverse}
.lt{font-family:var(--fd);font-size:11px;letter-spacing:4px;color:var(--cyan);text-transform:uppercase;animation:pulse 1.5s ease-in-out infinite}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes pulse{50%{opacity:.3}}

/* ── Nav ── */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:12px 28px;display:flex;align-items:center;justify-content:space-between;background:rgba(1,10,18,.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.logo{font-family:var(--fd);font-size:18px;font-weight:900;color:var(--cyan);text-shadow:0 0 18px rgba(0,245,255,.6);letter-spacing:2px;cursor:pointer}
.logo span{color:var(--txt2);font-weight:400}
.nl{display:flex;gap:2px;list-style:none;align-items:center}
.nl button{font-family:var(--fd);font-size:9.5px;letter-spacing:1.5px;text-transform:uppercase;color:var(--txt2);background:transparent;border:1px solid transparent;padding:7px 12px;border-radius:6px;cursor:pointer;transition:var(--tr)}
.nl button:hover,.nl button.act{color:var(--cyan);background:rgba(0,245,255,.05);border-color:rgba(0,245,255,.2);text-shadow:0 0 8px rgba(0,245,255,.5)}
.nav-r{display:flex;gap:10px;align-items:center}
.tbtn{background:var(--card);border:1px solid var(--border);color:var(--txt2);padding:7px 11px;border-radius:6px;cursor:pointer;font-size:14px;transition:var(--tr)}
.tbtn:hover{border-color:var(--cyan);color:var(--cyan)}
/* Language dropdown */
.lang-wrap{position:relative}
.lang-sel{background:var(--card);border:1px solid var(--border);color:var(--txt2);padding:7px 11px;border-radius:6px;cursor:pointer;font-size:12px;font-family:var(--fd);font-size:9.5px;letter-spacing:1px;transition:var(--tr);appearance:none;-webkit-appearance:none;padding-right:24px;outline:none}
.lang-sel:hover,.lang-sel:focus{border-color:var(--cyan);color:var(--cyan)}
.lang-wrap::after{content:'▾';position:absolute;right:8px;top:50%;transform:translateY(-50%);color:var(--cyan);pointer-events:none;font-size:10px}
.ham{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:8px}
.ham span{width:22px;height:2px;background:var(--cyan);border-radius:2px;transition:var(--tr);display:block}

/* ── Pages ── */
.page{display:none;position:relative;z-index:1;padding-top:68px;min-height:100vh}
.page.active{display:block}
.wrap{max-width:1260px;margin:0 auto;padding:0 22px}

/* ── Glass Card ── */
.gc{background:var(--card);backdrop-filter:blur(var(--blur));-webkit-backdrop-filter:blur(var(--blur));border:1px solid var(--border);border-radius:var(--r);transition:var(--tr);position:relative;overflow:hidden}
.gc::before{content:'';position:absolute;inset:0;border-radius:inherit;background:linear-gradient(135deg,rgba(0,245,255,.04),transparent 60%);pointer-events:none}
.gc:hover{background:var(--card-h);border-color:var(--borderg);box-shadow:0 0 28px rgba(0,245,255,.07),0 8px 28px rgba(0,0,0,.4);transform:translateY(-2px)}

/* ── Buttons ── */
.btn{font-family:var(--fd);font-size:10px;letter-spacing:2px;text-transform:uppercase;padding:12px 24px;border-radius:10px;border:none;cursor:pointer;transition:var(--tr);display:inline-flex;align-items:center;gap:9px;position:relative;overflow:hidden}
.bp{background:linear-gradient(135deg,#005577,#007799);color:var(--cyan);border:1px solid var(--cyan);box-shadow:0 0 18px rgba(0,245,255,.2)}
.bp:hover{box-shadow:0 0 38px rgba(0,245,255,.5),0 0 70px rgba(0,245,255,.18);transform:translateY(-2px)}
.bs{background:transparent;color:var(--txt2);border:1px solid var(--border)}
.bs:hover{border-color:var(--teal);color:var(--teal);box-shadow:0 0 18px rgba(0,212,170,.2)}
.bv{background:linear-gradient(135deg,#004488,#006655);color:var(--teal);border:1px solid var(--teal);box-shadow:0 0 14px rgba(0,212,170,.2)}
.bv:hover{box-shadow:0 0 32px rgba(0,212,170,.5);transform:translateY(-2px)}
.ba{background:linear-gradient(135deg,#550033,#880055);color:#ff88cc;border:1px solid #ff44aa;box-shadow:0 0 14px rgba(255,68,170,.15)}
.ba:hover{box-shadow:0 0 32px rgba(255,68,170,.4);transform:translateY(-2px)}

/* ── Forms ── */
.fg{display:flex;flex-direction:column;gap:7px}
.fl{font-family:var(--fd);font-size:9.5px;letter-spacing:2px;text-transform:uppercase;color:var(--txt2)}
.fi,.fs,.fta{background:rgba(0,20,40,.6);border:1px solid var(--border);border-radius:6px;color:var(--txt);font-family:var(--fb);font-size:13.5px;padding:11px 14px;transition:var(--tr);outline:none;width:100%}
.fi::placeholder,.fta::placeholder{color:var(--dim);font-style:italic}
.fi:focus,.fs:focus,.fta:focus{border-color:var(--cyan);box-shadow:0 0 0 3px rgba(0,245,255,.1),0 0 18px rgba(0,245,255,.14);background:rgba(0,30,60,.8)}
.fs option{background:#020e1a}
.fta{resize:vertical;min-height:78px}

/* ── Section headers ── */
.stag{font-family:var(--fd);font-size:9.5px;letter-spacing:4px;text-transform:uppercase;color:var(--teal);margin-bottom:7px}
.stitle{font-family:var(--fd);font-size:clamp(22px,3.2vw,40px);font-weight:700;color:var(--txt);line-height:1.15;margin-bottom:10px}
.stitle .ac{color:var(--cyan);text-shadow:0 0 18px rgba(0,245,255,.4)}
.ssub{font-size:14px;color:var(--txt2);line-height:1.7;max-width:560px}

/* ── Badges ── */
.badge{font-family:var(--fd);font-size:8.5px;letter-spacing:1.5px;text-transform:uppercase;padding:3px 9px;border-radius:20px;font-weight:600}
.bl{background:rgba(0,255,136,.1);border:1px solid var(--green);color:var(--green)}
.bm{background:rgba(255,140,0,.1);border:1px solid var(--orange);color:var(--orange)}
.bh{background:rgba(255,45,85,.1);border:1px solid var(--red);color:var(--red)}
.bi{background:rgba(0,128,255,.1);border:1px solid var(--blue);color:var(--blue)}
.bt{background:rgba(0,212,170,.1);border:1px solid var(--teal);color:var(--teal)}

/* ── Severity Bar ── */
.sb{height:4px;background:rgba(255,255,255,.05);border-radius:2px;overflow:hidden;margin-top:7px}
.sf{height:100%;border-radius:2px;transition:width 1.1s cubic-bezier(.4,0,.2,1);box-shadow:0 0 7px currentColor}
.sf.low{background:var(--green);width:28%}
.sf.mod{background:var(--orange);width:62%}
.sf.high{background:var(--red);width:94%}

/* ── Neon Divider ── */
.nd{height:1px;background:linear-gradient(90deg,transparent,var(--borderg),transparent);margin:36px 0;position:relative}
.nd::after{content:'◆';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:var(--cyan);font-size:9px;background:var(--bg);padding:0 7px;text-shadow:0 0 9px var(--cyan)}

/* ── Toast ── */
#tc{position:fixed;bottom:24px;right:24px;z-index:9000;display:flex;flex-direction:column;gap:10px}
.toast{min-width:260px;padding:12px 18px;border-radius:10px;background:var(--card);backdrop-filter:blur(16px);border:1px solid var(--border);font-size:12.5px;display:flex;align-items:center;gap:9px;box-shadow:0 8px 28px rgba(0,0,0,.4);animation:sir .3s ease}
.toast.success{border-color:var(--green)}.toast.warning{border-color:var(--orange)}.toast.error{border-color:var(--red)}
@keyframes sir{from{transform:translateX(100%);opacity:0}}
@keyframes fiu{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.fi2{opacity:0;transform:translateY(16px);animation:fiu .6s ease forwards}

/* ══════════════════════════════
   INDEX PAGE
══════════════════════════════ */
.hl{display:grid;grid-template-columns:1fr 1.1fr;gap:36px;padding:36px 0 56px;align-items:start}
.bp2{position:relative;display:flex;flex-direction:column;align-items:center;padding:36px 20px;min-height:640px}
.bpt{font-family:var(--fd);font-size:10px;letter-spacing:4px;text-transform:uppercase;color:var(--teal);margin-bottom:28px;text-align:center}
/* .bsw / .bsvg / bfl replaced by .holo-wrap / .advisor-hologram-final / holoBreath */
.scan{position:absolute;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(0,245,255,.6),transparent);animation:scm 4s ease-in-out infinite;pointer-events:none}
@keyframes scm{0%{top:10%;opacity:0}10%{opacity:1}90%{opacity:1}100%{top:90%;opacity:0}}
.hs{position:absolute;width:11px;height:11px;border-radius:50%;background:var(--cyan);box-shadow:0 0 9px var(--cyan),0 0 18px rgba(0,245,255,.4);animation:hsp 2s ease-in-out infinite;cursor:pointer;transition:var(--tr)}
.hs:hover{transform:scale(1.7);z-index:10}
.hs::after{content:attr(data-l);position:absolute;left:18px;top:50%;transform:translateY(-50%);background:var(--card);backdrop-filter:blur(8px);border:1px solid var(--borderg);border-radius:4px;padding:3px 9px;font-size:9.5px;font-family:var(--fd);letter-spacing:1px;color:var(--cyan);white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s}
.hs:hover::after{opacity:1}
@keyframes hsp{0%,100%{box-shadow:0 0 9px var(--cyan),0 0 18px rgba(0,245,255,.3)}50%{box-shadow:0 0 18px var(--cyan),0 0 36px rgba(0,245,255,.6)}}
.bstats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:28px;width:100%}
.bstat{text-align:center;padding:10px 6px;border:1px solid var(--border);border-radius:6px;background:rgba(0,20,40,.4);transition:var(--tr)}
.bstat:hover{border-color:var(--borderg)}
.bsv{font-family:var(--fd);font-size:17px;font-weight:700;color:var(--cyan);text-shadow:0 0 9px rgba(0,245,255,.5)}
.bsl{font-size:8.5px;letter-spacing:1px;color:var(--dim);text-transform:uppercase;margin-top:2px}
.ap{padding:32px}
.fg2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.fw{grid-column:1/-1}
.abtn{width:100%;margin-top:20px;padding:16px;font-size:12px;justify-content:center}
.abtnl{display:none;width:16px;height:16px;border:2px solid rgba(0,245,255,.3);border-top-color:var(--cyan);border-radius:50%;animation:spin .8s linear infinite}
.abtn.loading .abtnl{display:block}.abtn.loading .abtnt{display:none}
.rg{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px;margin-top:20px}
.rc{padding:22px}.rh{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}
.rt{font-family:var(--fd);font-size:12px;font-weight:600;color:var(--txt)}
.rd{font-size:13px;color:var(--txt2);line-height:1.6;margin:9px 0}
.re{text-align:center;padding:56px 20px;color:var(--dim)}
.rei{font-size:44px;margin-bottom:14px;opacity:.4}
.re p{font-family:var(--fd);font-size:10px;letter-spacing:2px;text-transform:uppercase}

/* ══════════════════════════════
   VOICE PAGE
══════════════════════════════ */
.vl{display:grid;grid-template-columns:1fr 1fr;gap:28px;padding:36px 0}
.mc{display:flex;flex-direction:column;align-items:center;gap:20px;padding:50px 32px}
.mw{position:relative}
.mr{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90px;height:90px;border-radius:50%;border:2px solid var(--cyan);opacity:0;pointer-events:none}
.mb.on .mr{animation:ro 1.4s ease-out infinite}
.mb.on .mr:nth-child(2){animation-delay:.5s}
.mb.on .mr:nth-child(3){animation-delay:1s}
@keyframes ro{0%{width:80px;height:80px;opacity:.8}100%{width:190px;height:190px;opacity:0}}
.mbtn{width:92px;height:92px;border-radius:50%;border:2px solid var(--cyan);background:rgba(0,245,255,.05);color:var(--cyan);font-size:34px;cursor:pointer;transition:var(--tr);position:relative;z-index:1;box-shadow:0 0 28px rgba(0,245,255,.2);display:flex;align-items:center;justify-content:center}
.mbtn:hover{background:rgba(0,245,255,.12);box-shadow:0 0 46px rgba(0,245,255,.5);transform:scale(1.05)}
.mbtn.on{background:rgba(255,45,85,.1);border-color:var(--red);color:var(--red);box-shadow:0 0 46px rgba(255,45,85,.4);animation:mpa .8s ease-in-out infinite}
@keyframes mpa{50%{transform:scale(1.07)}}
.ms{font-family:var(--fd);font-size:10px;letter-spacing:3px;text-transform:uppercase;color:var(--txt2);text-align:center}
.ms.on{color:var(--red);text-shadow:0 0 9px rgba(255,45,85,.5)}
.wv{display:flex;align-items:center;gap:4px;height:36px}
.wb{width:4px;background:var(--cyan);border-radius:2px;min-height:4px;box-shadow:0 0 5px var(--cyan)}
.wv.on .wb{animation:wa .8s ease-in-out infinite}
.wv.on .wb:nth-child(1){animation-delay:0s}.wv.on .wb:nth-child(2){animation-delay:.1s}.wv.on .wb:nth-child(3){animation-delay:.2s}
.wv.on .wb:nth-child(4){animation-delay:.3s}.wv.on .wb:nth-child(5){animation-delay:.4s}.wv.on .wb:nth-child(6){animation-delay:.2s}.wv.on .wb:nth-child(7){animation-delay:.1s}
@keyframes wa{0%,100%{height:4px}50%{height:30px}}
.tb{padding:18px;min-height:110px;font-size:14px;color:var(--txt2);line-height:1.7;border-radius:10px;background:rgba(0,20,40,.5);border:1px solid var(--border)}
.stag2{font-family:var(--fd);font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--teal);margin-bottom:14px}
.symtag{display:inline-flex;align-items:center;gap:5px;background:rgba(0,245,255,.07);border:1px solid rgba(0,245,255,.25);color:var(--cyan);font-size:11px;padding:5px 12px;border-radius:20px;margin:3px;font-family:var(--fd);letter-spacing:.5px;animation:tp .3s cubic-bezier(.34,1.56,.64,1)}
@keyframes tp{from{transform:scale(.7);opacity:0}}
/* Risk analysis verified block */
.risk-verified{background:rgba(0,212,170,.07);border:1px solid var(--teal);border-radius:10px;padding:18px 22px;display:flex;align-items:flex-start;gap:14px}
.risk-verified-icon{font-size:24px;flex-shrink:0}
.risk-verified-text{font-size:12.5px;color:var(--txt2);line-height:1.7}
.risk-verified-title{font-family:var(--fd);font-size:11px;color:var(--teal);margin-bottom:5px;letter-spacing:1px}

/* ══════════════════════════════
   ALLERGY PAGE
══════════════════════════════ */
.asb{display:flex;gap:10px;margin-bottom:28px}
.afc{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px}
.fch{font-family:var(--fd);font-size:9.5px;letter-spacing:1.5px;text-transform:uppercase;padding:7px 16px;border-radius:20px;border:1px solid var(--border);background:transparent;color:var(--txt2);cursor:pointer;transition:var(--tr)}
.fch:hover,.fch.act{border-color:var(--cyan);color:var(--cyan);background:rgba(0,245,255,.05)}
.atw{overflow-x:auto}
.at{width:100%;border-collapse:collapse;font-size:13px}
.at th{font-family:var(--fd);font-size:9.5px;letter-spacing:2px;text-transform:uppercase;color:var(--txt2);padding:14px 18px;text-align:left;border-bottom:1px solid var(--border);background:rgba(0,20,40,.6)}
.at td{padding:12px 18px;border-bottom:1px solid rgba(0,100,150,.1);color:var(--txt);transition:background var(--tr)}
.at tr:hover td{background:rgba(0,245,255,.03)}.at tr:last-child td{border-bottom:none}
.ia{display:flex;align-items:flex-start;gap:14px;padding:14px;border-radius:10px;margin-bottom:10px;border-left:3px solid}
.ia.high{background:rgba(255,45,85,.06);border-color:var(--red)}
.ia.mod{background:rgba(255,140,0,.06);border-color:var(--orange)}
.ia.low{background:rgba(0,255,136,.05);border-color:var(--green)}
.aii{font-size:20px;flex-shrink:0}.aic{flex:1}
.ait{font-family:var(--fd);font-size:11px;font-weight:600;margin-bottom:3px;color:var(--txt)}
.aid{font-size:12.5px;color:var(--txt2);line-height:1.6}
/* Med Check */
.medcheck-wrap{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}
.medcheck-result{padding:20px;border-radius:10px;border:1px solid var(--border);background:rgba(0,20,40,.4);display:none}
.medcheck-result.visible{display:block}

/* ══════════════════════════════
   DASHBOARD PAGE
══════════════════════════════ */
.dsg{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:28px}
.dsc{padding:22px;text-align:center}
.dsi{font-size:26px;margin-bottom:10px}
.dsv{font-family:var(--fd);font-size:28px;font-weight:700;color:var(--cyan);text-shadow:0 0 14px rgba(0,245,255,.4)}
.dsl{font-size:10px;color:var(--dim);letter-spacing:1px;text-transform:uppercase;margin-top:3px}
.cr{display:grid;grid-template-columns:1.4fr 1fr;gap:20px;margin-bottom:20px}
.cc{padding:26px}.cc h3{font-family:var(--fd);font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--txt2);margin-bottom:18px}
.ccon{position:relative;height:210px}
.hi{display:flex;align-items:center;gap:14px;padding:12px 14px;border-radius:10px;border:1px solid var(--border);background:rgba(0,20,40,.3);margin-bottom:8px;transition:var(--tr)}
.hi:hover{border-color:var(--borderg);background:rgba(0,30,60,.5)}
.hd{font-family:var(--fd);font-size:9.5px;color:var(--dim);white-space:nowrap}
.hin{flex:1}.ht{font-size:13.5px;font-weight:600}.hs2{font-size:11.5px;color:var(--txt2);margin-top:2px}

/* ══════════════════════════════
   ANALYZER PAGE
══════════════════════════════ */
.anal
